{"version":3,"sources":["components/editor/editor.tsx","components/editor/codeview.tsx","components/editor/errorconsoleview.tsx","components/editor/resultview.tsx","components/common/consoleextension.tsx","content/images/logo.png","components/editor/viewheader.tsx","components/header/header.tsx","App.tsx","index.tsx"],"names":["beautify","require","js","esprima","Editor","useState","result","setResult","undefined","error","setError","code","setCode","line","ch","cursor","setCursor","addLogs","log","state","onFormatClick","formatted","indent_size","space_in_empty_paren","onCodeChange","data","parseScript","e","message","onExecuteClick","eval","onClearClick","Fragment","className","split","defaultSize","minSize","maxSize","CodeView","props","title","controls","playButton","type","onClick","xmlns","height","viewBox","width","d","fill","formatButton","getHeaderControls","value","options","mode","theme","lineNumbers","onChange","editor","getValue","getCursor","ErrorView","ResultView","length","map","item","ConsoleExtension","that","console","JSON","stringify","React","module","exports","ViewHeader","Header","href","src","logo","alt","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"y/BAOIA,SAAWC,oBAAQ,IAAeC,GAClCC,QAAUF,oBAAQ,IAEhBG,OAAkC,SAAlCA,SAAyC,IAAD,UAChBC,oDAAgB,IADA,2LACrCC,OADqC,cAC7BC,UAD6B,yBAElBF,yDAASG,GAFS,4LAErCC,MAFqC,cAE9BC,SAF8B,yBAGpBL,oDAAS,IAHW,4LAGrCM,KAHqC,cAG/BC,QAH+B,yBAIhBP,oDAAc,CAAEQ,KAAM,EAAGC,GAAI,IAJb,4LAIrCC,OAJqC,cAI7BC,UAJ6B,cAOtCC,QAAU,SAACC,GACfX,WAAU,SAACY,GAAD,uLAAeA,GAAf,CAAsBD,QAG5BE,cAAgB,SAACT,GACrB,GAAIA,EAAM,CACR,IAAIU,EAAYrB,SAASW,EAAM,CAC7BW,YAAa,EACbC,sBAAsB,IAExBX,QAAQS,KAING,aAAe,SAACT,EAAaU,GACjC,GAAIA,EAAM,CACRT,UAAUD,GACVH,QAAQa,GACRlB,UAAU,IACV,IACEJ,QAAQuB,YAAYD,GACpBf,cAASF,GACT,MAAOmB,GACPjB,SAASiB,EAAEC,eAGblB,cAASF,IAIPqB,eAAiB,SAAjBA,eAAkBlB,MACtB,GAAIA,KACF,IACEJ,UAAU,IACVK,QAAQD,MACR,IAAIL,QAASwB,KAAKnB,MAEhBL,SACkB,oBAAXA,SACW,kBAAXA,SAEPW,QAAQX,SAEVI,cAASF,GACT,MAAOmB,GACPjB,SAASiB,EAAEC,WAKXG,aAAe,WACnBnB,QAAQ,IACRL,UAAU,KAGZ,OACE,2DAAC,6CAAMyB,SAAP,KACE,2DAAC,wDAAD,CAAkBf,QAASA,UAC3B,2DAAC,gDAAD,CACEgB,UAAU,YACVC,MAAM,WACNC,YAAY,MACZC,QAAS,IACTC,QAAS,KAET,2DAAC,yCAAD,CACE1B,KAAMA,KACNI,OAAQA,OACRS,aAAcA,aACdO,aAAcA,aACdX,cAAeA,cACfS,eAAgBA,iBAElB,2DAAC,gDAAD,CACEK,MAAM,aACNC,YAAa,MACbC,QAAS,IACTC,QAAS,KAET,2DAAC,2CAAD,CAAY/B,OAAQA,SACpB,2DAAC,iDAAD,CAAWG,MAAOA,YAObL,8B,gCCxGf,mCAIAH,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IAkHOqC,IAvGkC,SAACC,GAChD,IAAI5B,EAAO4B,EAAM5B,KAyFjB,OACE,kBAAC,IAAMqB,SAAP,KACE,kBAAC,IAAD,CAAYQ,MAAM,aAAaC,SApFT,WACxB,IAAIC,EACF,4BACEC,KAAK,SACLV,UAAU,oBACVO,MAAM,UACNI,QAAS,WACPL,EAAMV,eAAelB,KAGvB,yBACEkC,MAAM,6BACNC,OAAO,KACPC,QAAQ,YACRC,MAAM,MAEN,0BAAMC,EAAE,gBAAgBC,KAAK,SAC7B,0BAAMD,EAAE,gBAAgBC,KAAK,UAAUjB,UAAU,aAfrD,QAqBEkB,EACF,4BACER,KAAK,SACLV,UAAU,oBACVO,MAAM,cACNI,QAAS,WACPL,EAAMnB,cAAcT,KAGtB,yBACEkC,MAAM,6BACNE,QAAQ,YACRG,KAAK,QACLF,MAAM,OACNF,OAAO,QAEP,0BAAMG,EAAE,kBAAkBC,KAAK,SAC/B,0BAAMD,EAAE,oEAhBZ,cAgDF,MAAO,CAzBL,4BACEN,KAAK,SACLV,UAAU,oBACVO,MAAM,aACNI,QAAS,WACPL,EAAMR,iBAGR,yBACEc,MAAM,6BACNE,QAAQ,YACRG,KAAK,QACLF,MAAM,OACNF,OAAO,QAEP,0BAAMG,EAAE,kBAAkBC,KAAK,SAC/B,0BACED,EAAE,+FACFC,KAAK,SAlBX,SAyBoBC,EAAcT,GAYOU,KACzC,kBAAC,eAAD,CACEC,MAAO1C,EACPsB,UAAU,qBACVqB,QA9FQ,CACZC,KAAM,aACNC,MAAO,WACPC,aAAa,GA4FTC,SAdiB,SAACC,EAAalC,EAAW4B,GAC9C1C,EAAOgD,EAAOC,WACd,IAAI7C,EAAS4C,EAAOE,YACpBF,EAAO3C,UAAUuB,EAAMxB,OAAOF,KAAM0B,EAAMxB,OAAOD,IACjDyB,EAAMf,aAAaT,EAAQJ,S,gCCxG/B,2BAgBemD,IATmC,SAACvB,GACjD,OACE,kBAAC,IAAMP,SAAP,KACE,kBAAC,IAAD,CAAYQ,MAAM,kBAClB,yBAAKP,UAAU,gBAAgBM,EAAM9B,U,gCCX3C,2BA4BesD,IArBoC,SAACxB,GAWlD,OACE,kBAAC,IAAMP,SAAP,KACE,yBAAKC,UAAU,gBACb,kBAAC,IAAD,CAAYO,MAAM,WAClB,yBAAKP,UAAU,eAbfM,EAAMjC,QAAUiC,EAAMjC,OAAO0D,OAAS,EACjCzB,EAAMjC,OAAO2D,KAAI,SAACC,GACvB,OAAO,2BAAIA,MAIR,U,kFCTLC,E,kDAMJ,WAAY5B,EAAcpB,GAAa,IAAD,sBACpC,cAAMoB,EAAOpB,GACb,IAAIiD,EAAI,eAF4B,OAKpCC,QAAQnD,IAAM,SAAUmC,GACtB,IAAInC,EAAM,GAERA,EADmB,kBAAVmC,EACHiB,KAAKC,UAAUlB,GAEfA,EAERe,EAAK7B,MAAMtB,QAAQC,IAZe,E,qDA2BpC,OAAO,S,GAjCoBsD,aAqChBL,O,iBC3CfM,EAAOC,QAAU,sgC,mECAjB,oBAiBeC,IAToC,SAACpC,GAClD,OACE,yBAAKN,UAAU,cACZM,EAAMC,MACND,EAAME,Y,qGCQEmC,EAjByB,WACtC,OACE,yBAAK3C,UAAU,gCACb,uBAAGA,UAAU,eAAe4C,KAAK,KAC/B,yBACEC,IAAKC,IACL/B,MAAM,KACNF,OAAO,KACPb,UAAU,2BACV+C,IAAI,cANR,YCOSC,MATf,WACE,OACE,kBAAC,IAAMjD,SAAP,KACE,kBAAC,EAAD,MACA,kBAAC,IAAD,QCJNkD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.eb903ab9.chunk.js","sourcesContent":["import CodeView from \"./codeview\";\r\nimport React, { useState } from \"react\";\r\nimport ErrorView from \"./errorconsoleview\";\r\nimport ResultView from \"./resultview\";\r\nimport SplitPane from \"react-split-pane\";\r\nimport ConsoleExtension from \"../common/consoleextension\";\r\n\r\nvar beautify = require(\"js-beautify\").js;\r\nvar esprima = require(\"esprima\");\r\n\r\nconst Editor: React.FunctionComponent = () => {\r\n  const [result, setResult] = useState<any[]>([]);\r\n  const [error, setError] = useState(undefined);\r\n  const [code, setCode] = useState(\"\");\r\n  const [cursor, setCursor] = useState<any>({ line: 0, ch: 0 });\r\n\r\n  // add log to state\r\n  const addLogs = (log: any) => {\r\n    setResult((state) => [...state, log]);\r\n  };\r\n\r\n  const onFormatClick = (code?: string) => {\r\n    if (code) {\r\n      let formatted = beautify(code, {\r\n        indent_size: 2,\r\n        space_in_empty_paren: true,\r\n      });\r\n      setCode(formatted);\r\n    }\r\n  };\r\n\r\n  const onCodeChange = (cursor: any, data?: string) => {\r\n    if (data) {\r\n      setCursor(cursor);\r\n      setCode(data);\r\n      setResult([]);\r\n      try {\r\n        esprima.parseScript(data);\r\n        setError(undefined);\r\n      } catch (e) {\r\n        setError(e.message);\r\n      }\r\n    } else {\r\n      setError(undefined);\r\n    }\r\n  };\r\n\r\n  const onExecuteClick = (code?: string) => {\r\n    if (code) {\r\n      try {\r\n        setResult([]);\r\n        setCode(code);\r\n        let result = eval(code);\r\n        if (\r\n          result &&\r\n          typeof result !== \"function\" &&\r\n          typeof result !== \"object\"\r\n        ) {\r\n          addLogs(result);\r\n        }\r\n        setError(undefined);\r\n      } catch (e) {\r\n        setError(e.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onClearClick = () => {\r\n    setCode(\"\");\r\n    setResult([]);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ConsoleExtension addLogs={addLogs} />\r\n      <SplitPane\r\n        className=\"root-pane\"\r\n        split=\"vertical\"\r\n        defaultSize=\"70%\"\r\n        minSize={400}\r\n        maxSize={1000}\r\n      >\r\n        <CodeView\r\n          code={code}\r\n          cursor={cursor}\r\n          onCodeChange={onCodeChange}\r\n          onClearClick={onClearClick}\r\n          onFormatClick={onFormatClick}\r\n          onExecuteClick={onExecuteClick}\r\n        />\r\n        <SplitPane\r\n          split=\"horizontal\"\r\n          defaultSize={\"60%\"}\r\n          minSize={200}\r\n          maxSize={400}\r\n        >\r\n          <ResultView result={result} />\r\n          <ErrorView error={error} />\r\n        </SplitPane>\r\n      </SplitPane>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Editor;\r\n","import React from \"react\";\r\nimport { UnControlled as CodeMirror } from \"react-codemirror2\";\r\nimport ViewHeader from \"./viewheader\";\r\n\r\nrequire(\"codemirror/lib/codemirror.css\");\r\nrequire(\"codemirror/theme/material.css\");\r\nrequire(\"codemirror/mode/javascript/javascript.js\");\r\n\r\ninterface Props {\r\n  code?: string;\r\n  cursor: any;\r\n  onCodeChange: (cursor: any, code?: string) => void;\r\n  onFormatClick: (code?: string) => void;\r\n  onExecuteClick: (code?: string) => void;\r\n  onClearClick: () => void;\r\n}\r\n\r\nconst CodeView: React.FunctionComponent<Props> = (props) => {\r\n  let code = props.code;\r\n  let options = {\r\n    mode: \"javascript\",\r\n    theme: \"material\",\r\n    lineNumbers: true,\r\n  };\r\n\r\n  const getHeaderControls = () => {\r\n    let playButton = (\r\n      <button\r\n        type=\"button\"\r\n        className=\"codeview-controls\"\r\n        title=\"Execute\"\r\n        onClick={() => {\r\n          props.onExecuteClick(code);\r\n        }}\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          height=\"24\"\r\n          viewBox=\"0 0 24 24\"\r\n          width=\"24\"\r\n        >\r\n          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n          <path d=\"M8 5v14l11-7z\" fill=\"#51de51\" className=\"playbtn\" />\r\n        </svg>\r\n        Play\r\n      </button>\r\n    );\r\n\r\n    let formatButton = (\r\n      <button\r\n        type=\"button\"\r\n        className=\"codeview-controls\"\r\n        title=\"Format code\"\r\n        onClick={() => {\r\n          props.onFormatClick(code);\r\n        }}\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"white\"\r\n          width=\"16px\"\r\n          height=\"16px\"\r\n        >\r\n          <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n          <path d=\"M3 19h18v2H3zM3 7h12v2H3zm0-4h18v2H3zm0 12h12v2H3zm0-4h18v2H3z\" />\r\n        </svg>\r\n        &nbsp;Fromat\r\n      </button>\r\n    );\r\n\r\n    let deleteButton = (\r\n      <button\r\n        type=\"button\"\r\n        className=\"codeview-controls\"\r\n        title=\"Clear code\"\r\n        onClick={() => {\r\n          props.onClearClick();\r\n        }}\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"white\"\r\n          width=\"20px\"\r\n          height=\"20px\"\r\n        >\r\n          <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n          <path\r\n            d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z\"\r\n            fill=\"red\"\r\n          />\r\n        </svg>\r\n        Clear\r\n      </button>\r\n    );\r\n\r\n    return [deleteButton, formatButton, playButton];\r\n  };\r\n\r\n  const onEditorChange = (editor: any, data: any, value: string) => {\r\n    code = editor.getValue();\r\n    let cursor = editor.getCursor();\r\n    editor.setCursor(props.cursor.line, props.cursor.ch);\r\n    props.onCodeChange(cursor, code);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ViewHeader title=\"JavaScript\" controls={getHeaderControls()} />\r\n      <CodeMirror\r\n        value={code}\r\n        className=\"codemirror-wrapper\"\r\n        options={options}\r\n        onChange={onEditorChange}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default CodeView;\r\n","import React from \"react\";\r\nimport ViewHeader from \"./viewheader\";\r\n\r\ninterface Props {\r\n  error: string | undefined;\r\n}\r\n\r\nconst ErrorView: React.FunctionComponent<Props> = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <ViewHeader title=\"Error console\" />\r\n      <div className=\"view console\">{props.error}</div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ErrorView;\r\n","import React from \"react\";\r\nimport ViewHeader from \"./viewheader\";\r\n\r\ninterface Props {\r\n  result: any[];\r\n}\r\n\r\nconst ResultView: React.FunctionComponent<Props> = (props) => {\r\n  const getLogElements = () => {\r\n    if (props.result && props.result.length > 0) {\r\n      return props.result.map((item) => {\r\n        return <p>{item}</p>;\r\n      });\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"view-wrapper\">\r\n        <ViewHeader title=\"Result\" />\r\n        <div className=\"view result\">{getLogElements()}</div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ResultView;\r\n","import * as React from \"react\";\r\n\r\ninterface Props {\r\n  addLogs: Function;\r\n}\r\n\r\nclass ConsoleExtension extends React.Component<Props, any> {\r\n  /**\r\n   * constructor for console\r\n   * @param props props\r\n   * @param state state\r\n   */\r\n  constructor(props: Props, state: any) {\r\n    super(props, state);\r\n    let that = this;\r\n\r\n    // override/tweek default console.log\r\n    console.log = function (value: any) {\r\n      let log = \"\";\r\n      if (typeof value === \"object\") {\r\n        log = JSON.stringify(value);\r\n      } else {\r\n        log = value;\r\n      }\r\n      that.props.addLogs(log);\r\n    };\r\n\r\n    /*console.error = function (value: any) {\r\n      let log = \"\";\r\n      if (typeof value === \"object\") {\r\n        log = JSON.stringify(value);\r\n      } else {\r\n        log = value;\r\n      }\r\n      that.props.addLogs(log);\r\n    };*/\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default ConsoleExtension;\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACpklEQVRoge2ZS0hUURjHf8d8Zy8kn2lmZWkYJWUIIkGLwKQWgQ/EjaQJEj0QKi3bFC6LgogIF2Zgj8VUPijUiCAYok2mkAYqNKJiKFY2Ezmnxa0OozM1k3rvovODy/3O+c7j+3Mu53VBo9ForET4csg+pJmB/A2R4T3WILMDWWy0AKvRAqxGC7AaLcBqtACr0QKsRguwmiUTIDLE7+f+E0/f2wEoqRHE5wlCMgWJewVlpwW97wPvx/QR6LbD7kJBSzuMTsD3WRgZh+bHkF0o6LYH1p6pAtxuOHJe4HQZ6bBQSE813gAzTqi9LJABnAVNFdAzAIMffnYcBK/uSfpaJf0dko1JcLwMOhslwudBdz7BSxOqd6amlR0aAls2GHZyPPQ8lESEB96mqSOQmqRspwuKTgmGR4z0vwQPJgtIioP9uSpt64KtBwQV9YKB4X9r0/RZqPGiZGe6SjtdcOsBpBcYQr58Daw90wUkxMCLZkltJURFqvzZWUNITolgctp3/blYshIvj4BLJyRDnZKGk5LYaOXr6YcL1/yfhpZEgNv9Z/+veT56NZypgHftkj3bld/W5X9fCxYwPAKHqgVtz1XeoMOzTESYsm8/guwiwecZlbdqBRTnq9Vr7KP//S9oHbjbAeV1ghknPH0pqCqCtBTJnVbPTyAl0XiX1BhbCICD1YKmBsm6OJj6BLYuVScx1iQBc2eTK00w975483rYtsmwc3ZIWtoN/zM7JO8TJMTAxCS4vqk6xfn+x7CgTygtBdpuSFZGefeHhsD1erU1OFYK56qUX0pwjHkGn7cL6o76vxlalOv10QlouCmwdYFjHNaugdwsOFspycqYX97+Bq42C173wpADIsMhMw1KCyTlhyF4mZdAfVyv6/8DVqMFaDQazf/ND8ttt3KFrySDAAAAAElFTkSuQmCC\"","import React from \"react\";\r\n\r\ninterface Props {\r\n  title: string;\r\n  classname?: string;\r\n  controls?: JSX.Element[];\r\n}\r\n\r\nconst ViewHeader: React.FunctionComponent<Props> = (props) => {\r\n  return (\r\n    <div className=\"viewHeader\">\r\n      {props.title}\r\n      {props.controls}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewHeader;\r\n","import React from \"react\";\r\nimport logo from \"../../content/images/logo.png\";\r\n\r\nconst Header: React.FunctionComponent = () => {\r\n  return (\r\n    <nav className=\"navbar navbar-light bg-light\">\r\n      <a className=\"navbar-brand\" href=\"#\">\r\n        <img\r\n          src={logo}\r\n          width=\"30\"\r\n          height=\"30\"\r\n          className=\"d-inline-block align-top\"\r\n          alt=\"JS Editor\"\r\n        />\r\n        Editor\r\n      </a>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Editor from \"./components/editor/editor\";\r\nimport Header from \"./components/header/header\";\r\n\r\nfunction App() {\r\n  return (\r\n    <React.Fragment>\r\n      <Header />\r\n      <Editor />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}